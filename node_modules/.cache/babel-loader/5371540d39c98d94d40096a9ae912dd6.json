{"ast":null,"code":"var _jsxFileName = \"C:\\\\1.Regine\\\\PDA-APP\\\\frontend\\\\src\\\\AnalysisPage\\\\components\\\\Upload\\\\UploadUsingDropzoneContainer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom'; // import { with } from 'react-router-dom';\n\nimport { connect } from 'react-redux';\nimport './uploaddropzone.css';\nimport { uploadingData, resetState } from '../../../reducers/editstate';\nimport FrontPageHeader from '../../../FrontPageHeader/FrontPageHeader';\nimport Upload from './UploadUsingDropzone'; // import FooterPage from '../Footer/FooterPage';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      errorInfo: null\n    };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // Catch errors in any components below and re-render with error message\n    this.setState({\n      error: error,\n      errorInfo: errorInfo\n    }); // You can also log error messages to an error reporting service here\n  }\n\n  render() {\n    if (this.state.errorInfo) {\n      // Error path\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Something went wrong.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"details\", {\n          style: {\n            whiteSpace: 'pre-wrap'\n          },\n          children: [this.state.error && this.state.error.toString(), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 15\n          }, this), this.state.errorInfo.componentStack]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }, this);\n    } // Normally, just render children\n\n\n    return this.props.children;\n  }\n\n}\n\nconst UploadUsingDropzoneContainer = props => {\n  _s();\n\n  const [files, setFiles] = useState([]);\n  const [config, setConfig] = useState({\n    platform: \"Dark Web\",\n    visualisations: [\"Fake News\", \"Stance Detection\", \"Summary\", \"Word Cloud\", \"Topic Modelling\", \"NER and Relation\"]\n  });\n  const {\n    resetState\n  } = props;\n  useEffect(() => {// resetState();\n  }, [resetState]);\n\n  const deleteFile = event => {\n    setFiles(files.filter((_, i) => i !== event));\n  };\n\n  useNavigate(UploadUsingDropzoneContainer);\n\n  const uploadFiles = () => {\n    var fileType = files[0].path.split('.').slice(-1)[0];\n    console.log(fileType);\n    console.log(files);\n    console.log(files[0]);\n\n    if (fileType === 'json') {\n      if (files.length === 1) {\n        props.uploadingData({\n          files: files[0],\n          existing: true\n        });\n        props.history.push('/dashboard');\n      } else {\n        alert('No document uploaded');\n      }\n    } else {\n      // not json\n      if (files.length !== 0) {\n        props.uploadingData({\n          files: files,\n          config: config,\n          existing: false\n        });\n        props.history.push('/dashboard');\n      } else {\n        alert('No files uploaded');\n      }\n    }\n  }; // console.log('Uploaded Files', files, config);\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wholeThing\",\n    id: \"wholeThing\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-container\",\n      children: [/*#__PURE__*/_jsxDEV(ErrorBoundary, {\n        children: /*#__PURE__*/_jsxDEV(FrontPageHeader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ErrorBoundary, {\n        children: /*#__PURE__*/_jsxDEV(Upload, {\n          files: files,\n          setFiles: setFiles,\n          uploadFiles: uploadFiles,\n          deleteFile: deleteFile,\n          setConfig: setConfig,\n          config: config\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UploadUsingDropzoneContainer, \"vZUZ34OKhBEoIlt/cpTrYoPGRYg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = UploadUsingDropzoneContainer;\n\nconst mapDispatchToProps = dispatch => ({\n  uploadingData: payload => dispatch(uploadingData(payload)),\n  resetState: payload => dispatch(resetState(payload))\n});\n\nexport default _c2 = connect(UploadUsingDropzoneContainer, mapDispatchToProps);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"UploadUsingDropzoneContainer\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","connect","uploadingData","resetState","FrontPageHeader","Upload","ErrorBoundary","Component","constructor","props","state","error","errorInfo","componentDidCatch","setState","render","whiteSpace","toString","componentStack","children","UploadUsingDropzoneContainer","files","setFiles","config","setConfig","platform","visualisations","deleteFile","event","filter","_","i","uploadFiles","fileType","path","split","slice","console","log","length","existing","history","push","alert","mapDispatchToProps","dispatch","payload"],"sources":["C:/1.Regine/PDA-APP/frontend/src/AnalysisPage/components/Upload/UploadUsingDropzoneContainer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n// import { with } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport './uploaddropzone.css';\r\nimport { uploadingData, resetState} from '../../../reducers/editstate';\r\nimport FrontPageHeader from '../../../FrontPageHeader/FrontPageHeader';\r\nimport Upload from './UploadUsingDropzone';\r\n// import FooterPage from '../Footer/FooterPage';\r\nclass ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = { error: null, errorInfo: null };\r\n    }\r\n    \r\n    componentDidCatch(error, errorInfo) {\r\n      // Catch errors in any components below and re-render with error message\r\n      this.setState({\r\n        error: error,\r\n        errorInfo: errorInfo\r\n      })\r\n      // You can also log error messages to an error reporting service here\r\n    }\r\n    \r\n    render() {\r\n      if (this.state.errorInfo) {\r\n        // Error path\r\n        return (\r\n          <div>\r\n            <h2>Something went wrong.</h2>\r\n            <details style={{ whiteSpace: 'pre-wrap' }}>\r\n              {this.state.error && this.state.error.toString()}\r\n              <br />\r\n              {this.state.errorInfo.componentStack}\r\n            </details>\r\n          </div>\r\n        );\r\n      }\r\n      // Normally, just render children\r\n      return this.props.children;\r\n    }  \r\n  }\r\nconst UploadUsingDropzoneContainer = (props) => {\r\n  const [files, setFiles] = useState([]);\r\n  const [config, setConfig] = useState({platform: \"Dark Web\", visualisations: [\"Fake News\", \r\n  \"Stance Detection\", \"Summary\", \"Word Cloud\",\"Topic Modelling\", \"NER and Relation\"]});\r\n  const { resetState } = props;\r\n\r\n  useEffect(() => {\r\n    // resetState();\r\n  }, [resetState]);\r\n\r\n  const deleteFile = (event) => {\r\n    setFiles(files.filter((_, i) => i !== event));\r\n  };\r\n  useNavigate(UploadUsingDropzoneContainer)\r\n  const uploadFiles = () => {\r\n    var fileType = files[0].path.split('.').slice(-1)[0];\r\n\r\n    console.log(fileType)\r\n    console.log(files)\r\n    console.log(files[0])\r\n\r\n    if (fileType === 'json') {\r\n      if (files.length === 1) {\r\n        props.uploadingData({ files: files[0], existing: true});\r\n        props.history.push('/dashboard');\r\n      } else {\r\n        alert('No document uploaded');\r\n      }\r\n    } else { // not json\r\n      if (files.length !== 0) {\r\n        props.uploadingData({ files: files, config: config, existing: false});\r\n        props.history.push('/dashboard');\r\n      } else {\r\n        alert('No files uploaded');\r\n      }\r\n    }\r\n  };\r\n\r\n  // console.log('Uploaded Files', files, config);\r\n\r\n  return (\r\n    <div className=\"wholeThing\" id=\"wholeThing\">\r\n      <div className=\"upload-container\">\r\n        <ErrorBoundary>\r\n            <FrontPageHeader />\r\n        </ErrorBoundary>\r\n        <ErrorBoundary>\r\n            <Upload\r\n            files={files}\r\n            setFiles={setFiles}\r\n            uploadFiles={uploadFiles}\r\n            deleteFile={deleteFile}\r\n            setConfig={setConfig}\r\n            config={config}\r\n            />\r\n        </ErrorBoundary>\r\n      </div>\r\n      {/* <div className=\"d-md-flex flex-md-equal w-100 my-md-1 pl-md-5 pr-md-5 px-md-5\">\r\n        <div className=\"px-md-5\">\r\n          <FooterPage />\r\n        </div>\r\n      </div> */}\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  uploadingData: (payload) => dispatch(uploadingData(payload)),\r\n  resetState: (payload) => dispatch(resetState(payload)),\r\n});\r\n\r\nexport default connect(UploadUsingDropzoneContainer, mapDispatchToProps);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}